<!--
 * @Author: ã€Žå®‰å¿ çªã€ anzhongqi@marknum.com
 * @Date: 2022-07-22 14:19:01
 * @Description: 
-->
<template>
  <div class="w-full h-full">
    <div>
      <van-nav-bar
        title="æˆ‘çš„ç§ä¿¡"
        left-text="è¿”å›ž"
        left-arrow
        @click-left="onClickLeft"
      />
      <div class="flex flex-col gap-6 w-full p-3 mt-2">
        <div v-for="(item, index) in list" :key="index">
          <div class="flex gap-3 items-center w-full">
            <img
              class="h-14 w-14 rounded-full"
              src="../../../assets/avator-s.png"
              alt=""
            />
            <div
              class="flex flex-col flex-1 gap-1 justify-between h-full"
              @click="open(item)"
            >
              <p class="font-semibold flex items-center justify-between w-full">
                <span class="flex-1">{{ item.name }} </span
                ><span class="color-g font-normal text-sm">{{
                  item.time
                }}</span>
              </p>
              <p class="flex items-center justify-betwee color-g-1">
                <span class="flex-1 truncate">{{ item.content[0] }}</span>
                <span
                  v-if="item.num"
                  class="
                    bg-r
                    rounded-full
                    text-white
                    inline-flex
                    items-center
                    justify-center
                    h-3
                    w-3
                    text-xs
                    p-2.5
                  "
                  >{{ item.num }}</span
                >
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <v-chat
      :isopenChat="isopenChat"
      :rowData="row"
      @close="isopenChat = false"
    />
  </div>
</template>
<script setup>
import { ref } from "vue";
import vChat from "../../../components/chat/index.vue";
const isopenChat = ref(false);
const row = ref({});
const list = ref([
  {
    name: "Meme",
    content: ["æˆ‘ä¸ç®¡ï¼Œä½ æ¬ ç€å§", "ä¸Šæ¬¡æ¬ æˆ‘çš„é¸¡è…¿ä»€ä¹ˆæ—¶å€™è¿˜"],
    time: "åˆšåˆš",
    num: "2",
  },
  {
    name: "å¥¶ç“¶æ‰“ä¸å¼€",
    content: ["å“ˆå–½ï¼Œä½ å¥½å‘€ï¼"],
    time: "12åˆ†é’Ÿå‰",
    num: "1",
  },
  {
    name: "å¼ å…¨è›‹",
    content: ["é‚£æˆ‘ä¸‹æ¬¡å†è¯·æ•™ä½ å§"],
    time: "1å°æ—¶å‰",
    num: "1",
  },
  {
    name: "å°è´ðŸ¤”",
    content: ["è€å¸ˆï¼Œè¯·é—®ä»Šå¤©å¸ƒç½®çš„ä½œä¸šæœ‰å“ªäº›ï¼Ÿ"],
    time: "æ˜¨å¤©",
    num: "",
  },
  {
    name: "Ë™*ç¬ç³–ç¶¶",
    content: ["ä»Šå¤©çš„ä½œä¸šé¢˜ä½ å…¨ä¼šå—ï¼Ÿ"],
    time: "4å¤©å‰",
    num: "",
  },
  {
    name: "Ë™*æ©é›…",
    content: ["æ™šè‡ªä¹ åœ¨å“ªä¸Šè¯¾ï¼Ÿ"],
    time: "4å¤©å‰",
    num: "",
  },
]);

const open = (data) => {
  isopenChat.value = true;
  row.value = data;
};
const onClickLeft = () => history.back();
</script>
<style lang="css" scoped>
.color-g {
  color: #bdbcd3;
}
.color-g-1 {
  color: #797999;
}
.bg-r {
  background: #fc5655;
}
</style>
